# Google Analytics 4 áƒ˜áƒœáƒ¢áƒ”áƒ’áƒ áƒáƒªáƒ˜áƒ / Google Analytics 4 Integration

## áƒ¨áƒ˜áƒœáƒáƒáƒ áƒ¡áƒ˜ / Contents
- [áƒ áƒ áƒ“áƒáƒ”áƒ›áƒáƒ¢áƒ áƒáƒ áƒáƒ”áƒ¥áƒ¢áƒ¡](#áƒ áƒ-áƒ“áƒáƒ”áƒ›áƒáƒ¢áƒ-áƒáƒ áƒáƒ”áƒ¥áƒ¢áƒ¡)
- [áƒ áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒáƒ áƒ˜áƒ¡](#áƒ áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡-áƒáƒ áƒ˜áƒ¡)
- [áƒ áƒáƒ’áƒáƒ  áƒ›áƒ£áƒ¨áƒáƒáƒ‘áƒ¡](#áƒ áƒáƒ’áƒáƒ -áƒ›áƒ£áƒ¨áƒáƒáƒ‘áƒ¡)
- [áƒ¤áƒáƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒ¢áƒ áƒ£áƒ¥áƒ¢áƒ£áƒ áƒ](#áƒ¤áƒáƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡-áƒ¡áƒ¢áƒ áƒ£áƒ¥áƒ¢áƒ£áƒ áƒ)
- [áƒ™áƒáƒœáƒ¤áƒ˜áƒ’áƒ£áƒ áƒáƒªáƒ˜áƒ](#áƒ™áƒáƒœáƒ¤áƒ˜áƒ’áƒ£áƒ áƒáƒªáƒ˜áƒ)
- [áƒ¦áƒáƒœáƒ˜áƒ¡áƒ«áƒ˜áƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ¢áƒ˜áƒáƒ”áƒ‘áƒ˜](#áƒ¦áƒáƒœáƒ˜áƒ¡áƒ«áƒ˜áƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡-áƒ¢áƒ˜áƒáƒ”áƒ‘áƒ˜)
- [áƒ¢áƒ”áƒ¡áƒ¢áƒ˜áƒ áƒ”áƒ‘áƒ](#áƒ¢áƒ”áƒ¡áƒ¢áƒ˜áƒ áƒ”áƒ‘áƒ)

---

## áƒ áƒ áƒ“áƒáƒ”áƒ›áƒáƒ¢áƒ áƒáƒ áƒáƒ”áƒ¥áƒ¢áƒ¡

### áƒáƒ®áƒáƒšáƒ˜ áƒ¤áƒáƒ˜áƒšáƒ”áƒ‘áƒ˜

1. **frontend/.env** - áƒ’áƒáƒœáƒ•áƒ˜áƒ—áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ áƒ”áƒ›áƒáƒ¡ áƒ™áƒáƒœáƒ¤áƒ˜áƒ’áƒ£áƒ áƒáƒªáƒ˜áƒ
2. **frontend/.env.example** - áƒáƒ áƒáƒ“áƒáƒ¥áƒ¨áƒ”áƒœáƒ˜áƒ¡ áƒ¨áƒáƒ‘áƒšáƒáƒœáƒ˜
3. **frontend/src/utils/analytics.js** - GA4-áƒ˜áƒ¡ áƒ«áƒ˜áƒ áƒ˜áƒ—áƒáƒ“áƒ˜ áƒ˜áƒœáƒ¢áƒ”áƒ’áƒ áƒáƒªáƒ˜áƒ (321 áƒ®áƒáƒ–áƒ˜)
4. **frontend/src/utils/usePageTracking.js** - áƒ’áƒ•áƒ”áƒ áƒ“áƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ•áƒ¢áƒáƒ›áƒáƒ¢áƒ£áƒ áƒ˜ áƒ—áƒ•áƒáƒšáƒ—áƒ•áƒáƒšáƒ˜
5. **frontend/src/components/CookieConsent/CookieConsent.jsx** - Cookie-áƒ”áƒ‘áƒ˜áƒ¡ áƒ—áƒáƒœáƒ®áƒ›áƒáƒ‘áƒ˜áƒ¡ áƒ‘áƒáƒœáƒ”áƒ áƒ˜
6. **frontend/src/components/CookieConsent/CookieConsent.scss** - áƒ‘áƒáƒœáƒ”áƒ áƒ˜áƒ¡ áƒ¡áƒ¢áƒ˜áƒšáƒ”áƒ‘áƒ˜

### áƒ¨áƒ”áƒªáƒ•áƒšáƒ˜áƒšáƒ˜ áƒ¤áƒáƒ˜áƒšáƒ”áƒ‘áƒ˜

1. **frontend/src/App.jsx** - Analytics-áƒ˜áƒ¡ áƒ˜áƒœáƒ˜áƒªáƒ˜áƒáƒšáƒ˜áƒ–áƒáƒªáƒ˜áƒ áƒ“áƒ CookieConsent
2. **frontend/src/components/navbar/Navbar.jsx** - Analytics-áƒ˜áƒ¡ áƒáƒáƒ áƒáƒ›áƒ”áƒ¢áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ“áƒáƒšáƒ˜
3. **frontend/src/components/navbar/Navbar.scss** - áƒ›áƒáƒ“áƒáƒšáƒ˜áƒ¡ áƒ¡áƒ¢áƒ˜áƒšáƒ”áƒ‘áƒ˜
4. **frontend/src/pages/login/Login.jsx** - áƒáƒ•áƒ¢áƒáƒ áƒ˜áƒ–áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ—áƒ•áƒáƒšáƒ—áƒ•áƒáƒšáƒ˜
5. **frontend/src/pages/register/Register.jsx** - áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ—áƒ•áƒáƒšáƒ—áƒ•áƒáƒšáƒ˜
6. **frontend/src/components/messyDictionary/MessyDictionary.jsx** - áƒ—áƒáƒ›áƒáƒ¨áƒ˜áƒ¡ áƒ¦áƒáƒœáƒ˜áƒ¡áƒ«áƒ˜áƒ”áƒ‘áƒ”áƒ‘áƒ˜
7. **frontend/src/components/AudioPlayer/AudioPlayer.jsx** - áƒáƒ£áƒ“áƒ˜áƒ áƒ¦áƒáƒœáƒ˜áƒ¡áƒ«áƒ˜áƒ”áƒ‘áƒ”áƒ‘áƒ˜

---

## áƒ áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒáƒ áƒ˜áƒ¡

### áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜

1. **áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ˜áƒ¡ áƒ¥áƒªáƒ”áƒ•áƒ˜áƒ¡ áƒ’áƒáƒ’áƒ”áƒ‘áƒ**: áƒ áƒáƒ’áƒáƒ  áƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ”áƒœ áƒ•áƒ˜áƒ–áƒ˜áƒ¢áƒáƒ áƒ”áƒ‘áƒ˜ Dashni-áƒ¡ (áƒ”áƒœáƒ˜áƒ¡ áƒ¡áƒáƒ¡áƒ¬áƒáƒ•áƒšáƒ áƒáƒšáƒáƒ¢áƒ¤áƒáƒ áƒ›áƒáƒ¡)
2. **GDPR áƒ¨áƒ”áƒ¡áƒáƒ‘áƒáƒ›áƒ˜áƒ¡áƒáƒ‘áƒ**: áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ¡ áƒáƒ¥áƒ•áƒ— áƒ¡áƒ áƒ£áƒšáƒ˜ áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ˜ áƒ—áƒáƒ•áƒ˜áƒáƒœáƒ— áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ–áƒ”
3. **áƒ¦áƒáƒœáƒ˜áƒ¡áƒ«áƒ˜áƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ—áƒ•áƒáƒšáƒ—áƒ•áƒáƒšáƒ˜**: áƒáƒ•áƒ¢áƒáƒ áƒ˜áƒ–áƒáƒªáƒ˜áƒ, áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ, áƒ—áƒáƒ›áƒáƒ¨áƒ”áƒ‘áƒ˜, áƒáƒ£áƒ“áƒ˜áƒ áƒ“áƒáƒ™áƒ•áƒ áƒ
4. **áƒ’áƒ•áƒ”áƒ áƒ“áƒ˜áƒ¡ áƒœáƒáƒ®áƒ•áƒ”áƒ‘áƒ˜**: áƒáƒ•áƒ¢áƒáƒ›áƒáƒ¢áƒ£áƒ áƒ˜ pageview áƒ—áƒ•áƒáƒšáƒ—áƒ•áƒáƒšáƒ˜ áƒ§áƒ•áƒ”áƒšáƒ áƒ›áƒáƒ áƒ¨áƒ áƒ£áƒ¢áƒ–áƒ”

### GDPR áƒ›áƒáƒ—áƒ®áƒáƒ•áƒœáƒ”áƒ‘áƒ˜

- âœ… Cookie-áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒáƒ›áƒ“áƒ” áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ˜áƒ¡ áƒ—áƒáƒœáƒ®áƒ›áƒáƒ‘áƒ
- âœ… áƒœáƒáƒ—áƒ”áƒšáƒ˜ áƒ˜áƒœáƒ¤áƒáƒ áƒ›áƒáƒªáƒ˜áƒ áƒ áƒ áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ¡ áƒ•áƒáƒ’áƒ áƒáƒ•áƒ”áƒ‘áƒ—
- âœ… áƒ—áƒáƒœáƒ®áƒ›áƒáƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ£áƒ¥áƒ›áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ¡áƒáƒ«áƒšáƒ”áƒ‘áƒšáƒáƒ‘áƒ áƒœáƒ”áƒ‘áƒ˜áƒ¡áƒ›áƒ˜áƒ”áƒ  áƒ“áƒ áƒáƒ¡
- âœ… Cookie-áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ áƒ”áƒ¨áƒ” áƒ›áƒ£áƒ¨áƒáƒáƒ‘áƒ˜áƒ¡ áƒ áƒ”áƒŸáƒ˜áƒ›áƒ˜ (Basic Mode)

---

## áƒ áƒáƒ’áƒáƒ  áƒ›áƒ£áƒ¨áƒáƒáƒ‘áƒ¡

### áƒ°áƒ˜áƒ‘áƒ áƒ˜áƒ“áƒ£áƒšáƒ˜ áƒ—áƒ•áƒáƒšáƒ—áƒ•áƒáƒšáƒ˜áƒ¡ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ

Dashni áƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ¡ **áƒáƒ áƒ¡áƒáƒ¤áƒ”áƒ®áƒ£áƒ áƒ˜áƒáƒœ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒáƒ¡**:

#### 1. Basic Mode (áƒ«áƒ˜áƒ áƒ˜áƒ—áƒáƒ“áƒ˜ áƒ áƒ”áƒŸáƒ˜áƒ›áƒ˜) - Cookie-áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ áƒ”áƒ¨áƒ”
- **áƒ áƒáƒ“áƒ˜áƒ¡**: áƒ—áƒáƒœáƒ®áƒ›áƒáƒ‘áƒ˜áƒ¡ áƒ’áƒáƒªáƒ”áƒ›áƒáƒ›áƒ“áƒ”
- **áƒ áƒáƒ¡ áƒáƒ’áƒ áƒáƒ•áƒ”áƒ‘áƒ¡**: áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ’áƒ•áƒ”áƒ áƒ“áƒ˜áƒ¡ áƒœáƒáƒ®áƒ•áƒ”áƒ‘áƒ¡ (pageviews)
- **Cookie-áƒ”áƒ‘áƒ˜**: áƒáƒ  áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ
- **áƒ¡áƒ¢áƒáƒ áƒ˜áƒ¯áƒ˜**: áƒáƒ  áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ
- **áƒ™áƒáƒœáƒ¤áƒ˜áƒ’áƒ£áƒ áƒáƒªáƒ˜áƒ**:
  ```javascript
  gtag('consent', 'default', {
    'analytics_storage': 'denied',
    'ad_storage': 'denied'
  });
  ```

#### 2. Full Mode (áƒ¡áƒ áƒ£áƒšáƒ˜ áƒ áƒ”áƒŸáƒ˜áƒ›áƒ˜) - Cookie-áƒ”áƒ‘áƒ˜áƒ—
- **áƒ áƒáƒ“áƒ˜áƒ¡**: áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ”áƒšáƒ˜ áƒ“áƒáƒ”áƒ—áƒáƒœáƒ®áƒ›áƒ
- **áƒ áƒáƒ¡ áƒáƒ’áƒ áƒáƒ•áƒ”áƒ‘áƒ¡**: áƒ§áƒ•áƒ”áƒšáƒáƒ¤áƒ”áƒ áƒ˜ - pageviews, events, user demographics
- **Cookie-áƒ”áƒ‘áƒ˜**: áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ (_ga, _ga_* áƒ“áƒ áƒ¡áƒ®áƒ•áƒ)
- **áƒ¡áƒ¢áƒáƒ áƒ˜áƒ¯áƒ˜**: localStorage ('ga_consent', 'ga_consent_date')
- **áƒ™áƒáƒœáƒ¤áƒ˜áƒ’áƒ£áƒ áƒáƒªáƒ˜áƒ**:
  ```javascript
  gtag('consent', 'update', {
    'analytics_storage': 'granted',
    'ad_storage': 'granted'
  });
  ```

### áƒáƒ áƒ¥áƒ˜áƒ¢áƒ”áƒ¥áƒ¢áƒ£áƒ áƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        App.jsx                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ useEffect: initGA(false) - Basic Mode                â”‚   â”‚
â”‚  â”‚ usePageTracking() - áƒ§áƒáƒ•áƒ”áƒšáƒ˜ áƒ áƒáƒ£áƒ¢áƒ˜áƒ¡ áƒ—áƒ•áƒáƒšáƒ—áƒ•áƒáƒšáƒ˜          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ CookieConsent áƒ‘áƒáƒœáƒ”áƒ áƒ˜                                 â”‚   â”‚
â”‚  â”‚  - localStorage-áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ                         â”‚   â”‚
â”‚  â”‚  - áƒ—áƒáƒœáƒ®áƒ›áƒáƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ—áƒ®áƒáƒ•áƒœáƒ                                â”‚   â”‚
â”‚  â”‚  - setConsent(true) â†’ initGA(true) - Full Mode       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Navbar.jsx                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“Š Analytics áƒ¦áƒ˜áƒšáƒáƒ™áƒ˜                                  â”‚   â”‚
â”‚  â”‚  - hasConsent() áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ                            â”‚   â”‚
â”‚  â”‚  - áƒ¡áƒ¢áƒáƒ¢áƒ£áƒ¡áƒ˜áƒ¡ áƒ©áƒ•áƒ”áƒœáƒ”áƒ‘áƒ (áƒ©áƒáƒ áƒ—áƒ£áƒšáƒ˜/áƒ’áƒáƒ›áƒáƒ áƒ—áƒ£áƒšáƒ˜)            â”‚   â”‚
â”‚  â”‚  - Enable/Revoke áƒ¦áƒ˜áƒšáƒáƒ™áƒ”áƒ‘áƒ˜                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              analytics.js (áƒ«áƒ˜áƒ áƒ˜áƒ—áƒáƒ“áƒ˜ áƒ‘áƒ˜áƒ áƒ—áƒ•áƒ˜)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ initGA(fullMode)                                     â”‚   â”‚
â”‚  â”‚  - gtag.js áƒ¡áƒ™áƒ áƒ˜áƒáƒ¢áƒ˜áƒ¡ áƒ“áƒ˜áƒœáƒáƒ›áƒ˜áƒ£áƒ áƒ˜ áƒ©áƒáƒ¢áƒ•áƒ˜áƒ áƒ—áƒ•áƒ              â”‚   â”‚
â”‚  â”‚  - Consent áƒ›áƒáƒ“áƒ˜áƒ¡ áƒ“áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ                             â”‚   â”‚
â”‚  â”‚  - Measurement ID áƒ™áƒáƒœáƒ¤áƒ˜áƒ’áƒ£áƒ áƒáƒªáƒ˜áƒ                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ trackPageView(path, title)                           â”‚   â”‚
â”‚  â”‚  - Async retry logic (50 attempts Ã— 100ms)          â”‚   â”‚
â”‚  â”‚  - gtag('event', 'page_view')                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ trackEvent(eventName, params)                        â”‚   â”‚
â”‚  â”‚  - áƒ—áƒáƒœáƒ®áƒ›áƒáƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ                                â”‚   â”‚
â”‚  â”‚  - gtag('event', eventName, params)                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Helper Functions                                     â”‚   â”‚
â”‚  â”‚  - trackLogin, trackSignUp                           â”‚   â”‚
â”‚  â”‚  - trackGameStart, trackGameComplete                 â”‚   â”‚
â”‚  â”‚  - trackAudioPlay, trackAudioSkip                    â”‚   â”‚
â”‚  â”‚  - setConsent, revokeConsent, hasConsent             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ—áƒ áƒœáƒáƒ™áƒáƒ“áƒ˜

1. **áƒ¡áƒáƒ¬áƒ§áƒ˜áƒ¡áƒ˜ áƒ©áƒáƒ¢áƒ•áƒ˜áƒ áƒ—áƒ•áƒ**:
   ```
   áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ”áƒšáƒ˜ â†’ App.jsx â†’ initGA(false) â†’ Basic Mode
   â†’ usePageTracking â†’ trackPageView('/') â†’ pageview áƒ¦áƒáƒœáƒ˜áƒ¡áƒ«áƒ˜áƒ”áƒ‘áƒ
   ```

2. **áƒ—áƒáƒœáƒ®áƒ›áƒáƒ‘áƒ˜áƒ¡ áƒ’áƒáƒªáƒ”áƒ›áƒ**:
   ```
   CookieConsent áƒ‘áƒáƒœáƒ”áƒ áƒ˜ â†’ "áƒ—áƒáƒœáƒáƒ®áƒ›áƒ áƒ•áƒáƒ " â†’ setConsent(true)
   â†’ localStorage.setItem('ga_consent', 'true')
   â†’ initGA(true) â†’ Full Mode â†’ gtag('consent', 'update')
   ```

3. **áƒ áƒáƒ£áƒ¢áƒ˜áƒ¡ áƒ¨áƒ”áƒªáƒ•áƒšáƒ**:
   ```
   useLocation â†’ useEffect â†’ trackPageView(newPath, newTitle)
   â†’ Retry loop â†’ gtag('event', 'page_view')
   ```

4. **áƒ¦áƒáƒœáƒ˜áƒ¡áƒ«áƒ˜áƒ”áƒ‘áƒ (áƒ›áƒáƒ’. Login)**:
   ```
   Login.jsx â†’ handleSubmit â†’ success
   â†’ trackLogin('email') â†’ trackEvent('login', {method: 'email'})
   â†’ áƒ—áƒáƒœáƒ®áƒ›áƒáƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ â†’ gtag('event', 'login')
   ```

---

## áƒ¤áƒáƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒ¢áƒ áƒ£áƒ¥áƒ¢áƒ£áƒ áƒ

### 1. analytics.js (áƒ«áƒ˜áƒ áƒ˜áƒ—áƒáƒ“áƒ˜ áƒ‘áƒ˜áƒ áƒ—áƒ•áƒ˜)

**áƒ›áƒ“áƒ”áƒ‘áƒáƒ áƒ”áƒáƒ‘áƒ**: `frontend/src/utils/analytics.js`

**áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒáƒœáƒáƒšáƒ˜**:
- `initGA(fullMode)` - Analytics-áƒ˜áƒ¡ áƒ˜áƒœáƒ˜áƒªáƒ˜áƒáƒšáƒ˜áƒ–áƒáƒªáƒ˜áƒ
- `trackPageView(path, title)` - áƒ’áƒ•áƒ”áƒ áƒ“áƒ˜áƒ¡ áƒœáƒáƒ®áƒ•áƒ˜áƒ¡ áƒ—áƒ•áƒáƒšáƒ—áƒ•áƒáƒšáƒ˜
- `trackEvent(eventName, params)` - áƒ¦áƒáƒœáƒ˜áƒ¡áƒ«áƒ˜áƒ”áƒ‘áƒ˜áƒ¡ áƒ—áƒ•áƒáƒšáƒ—áƒ•áƒáƒšáƒ˜
- `trackLogin(method)` - áƒáƒ•áƒ¢áƒáƒ áƒ˜áƒ–áƒáƒªáƒ˜áƒ
- `trackSignUp(method)` - áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ
- `trackGameStart(gameMode, direction)` - áƒ—áƒáƒ›áƒáƒ¨áƒ˜ áƒ“áƒáƒ¬áƒ§áƒ”áƒ‘áƒ
- `trackGameComplete(score, attempts, gameMode)` - áƒ—áƒáƒ›áƒáƒ¨áƒ˜ áƒ“áƒáƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ
- `trackAudioPlay(audioId)` - áƒáƒ£áƒ“áƒ˜áƒ áƒ“áƒáƒ™áƒ•áƒ áƒ
- `trackAudioSkip(direction, seconds)` - áƒáƒ£áƒ“áƒ˜áƒ áƒ’áƒáƒ“áƒáƒ®áƒ•áƒ”áƒ•áƒ
- `setConsent(granted)` - áƒ—áƒáƒœáƒ®áƒ›áƒáƒ‘áƒ˜áƒ¡ áƒ’áƒáƒªáƒ”áƒ›áƒ
- `revokeConsent()` - áƒ—áƒáƒœáƒ®áƒ›áƒáƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ£áƒ¥áƒ›áƒ”áƒ‘áƒ
- `hasConsent()` - áƒ—áƒáƒœáƒ®áƒ›áƒáƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ

**áƒ’áƒáƒ›áƒáƒ áƒ—áƒ•áƒ˜áƒ¡ áƒáƒ˜áƒ áƒáƒ‘áƒ”áƒ‘áƒ˜**:
```javascript
const isEnabled = import.meta.env.VITE_GA_ENABLED !== 'false';
const measurementId = import.meta.env.VITE_GA_MEASUREMENT_ID;
```

### 2. usePageTracking.js

**áƒ›áƒ“áƒ”áƒ‘áƒáƒ áƒ”áƒáƒ‘áƒ**: `frontend/src/utils/usePageTracking.js`

**áƒ áƒáƒ’áƒáƒ  áƒ›áƒ£áƒ¨áƒáƒáƒ‘áƒ¡**:
```javascript
import { useEffect } from 'react';
import { useLocation } from 'react-router-dom';
import { trackPageView } from './analytics';

export const usePageTracking = () => {
  const location = useLocation();

  useEffect(() => {
    // áƒ§áƒáƒ•áƒ”áƒšáƒ˜ áƒ áƒáƒ£áƒ¢áƒ˜áƒ¡ áƒ¨áƒ”áƒªáƒ•áƒšáƒ˜áƒ¡áƒáƒ¡
    trackPageView(location.pathname, document.title);
  }, [location]);
};
```

### 3. CookieConsent.jsx

**áƒ›áƒ“áƒ”áƒ‘áƒáƒ áƒ”áƒáƒ‘áƒ**: `frontend/src/components/CookieConsent/CookieConsent.jsx`

**áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ”áƒ‘áƒ˜**:
- `handleAccept()` - áƒ—áƒáƒœáƒ®áƒ›áƒáƒ‘áƒ˜áƒ¡ áƒ’áƒáƒªáƒ”áƒ›áƒ áƒ“áƒ Full Mode-áƒ¨áƒ˜ áƒ’áƒáƒ“áƒáƒ¡áƒ•áƒšáƒ
- `handleDecline()` - áƒ‘áƒáƒœáƒ”áƒ áƒ˜áƒ¡ áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ, Basic Mode-áƒ˜áƒ¡ áƒ¨áƒ”áƒœáƒáƒ áƒ©áƒ£áƒœáƒ”áƒ‘áƒ

**Lazy Initialization** (React Strict Mode-áƒ˜áƒ¡ áƒ’áƒáƒ›áƒ):
```javascript
const [showBanner, setShowBanner] = useState(() => {
  const consentGiven = localStorage.getItem('ga_consent');
  return !consentGiven; // áƒáƒ©áƒ•áƒ”áƒœáƒ” áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ—áƒ£ áƒáƒ  áƒáƒ áƒ˜áƒ¡ áƒ—áƒáƒœáƒ®áƒ›áƒáƒ‘áƒ
});
```

### 4. Navbar.jsx - Analytics Modal

**áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ”áƒ‘áƒ˜**:
- `handleAnalyticsClick()` - áƒ›áƒáƒ“áƒáƒšáƒ˜áƒ¡ áƒ’áƒáƒ®áƒ¡áƒœáƒ
- `handleEnableAnalytics()` - Analytics-áƒ˜áƒ¡ áƒ©áƒáƒ áƒ—áƒ•áƒ
- `handleRevokeAnalytics()` - Analytics-áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ áƒ—áƒ•áƒ

**UI áƒšáƒáƒ’áƒ˜áƒ™áƒ**:
```javascript
const analyticsEnabled = hasConsent();

{analyticsEnabled ? (
  <button onClick={handleRevokeAnalytics} className="btn btn-revoke">
    áƒ’áƒáƒ›áƒáƒ áƒ—áƒ•áƒ
  </button>
) : (
  <button onClick={handleEnableAnalytics} className="btn btn-enable">
    áƒ©áƒáƒ áƒ—áƒ•áƒ
  </button>
)}
```

---

## áƒ™áƒáƒœáƒ¤áƒ˜áƒ’áƒ£áƒ áƒáƒªáƒ˜áƒ

### Environment Variables

#### Development (.env)
```bash
# API
VITE_API_URL=https://dashni.dosh.ge/api/

# Google Analytics
VITE_GA_MEASUREMENT_ID=G-FWMDJ8VCF5
VITE_GA_ENABLED=false           # áƒ’áƒáƒ›áƒáƒ áƒ—áƒ£áƒšáƒ˜ áƒ“áƒ”áƒ•áƒ”áƒšáƒáƒáƒ›áƒ”áƒœáƒ¢áƒ¨áƒ˜
VITE_GA_DEBUG=true              # Debug logs áƒ©áƒáƒ áƒ—áƒ£áƒšáƒ˜
```

#### Production (.env.example â†’ .env)
```bash
# API
VITE_API_URL=https://dashni.dosh.ge/api/

# Google Analytics
VITE_GA_MEASUREMENT_ID=G-XXXXXXXXXX  # áƒ¨áƒ”áƒªáƒ•áƒáƒšáƒ” áƒ áƒ”áƒáƒšáƒ£áƒ áƒ˜áƒ—
VITE_GA_ENABLED=true                  # áƒ©áƒáƒ áƒ—áƒ£áƒšáƒ˜ áƒáƒ áƒáƒ“áƒáƒ¥áƒ¨áƒ”áƒœáƒ¨áƒ˜
VITE_GA_DEBUG=false                   # Debug logs áƒ’áƒáƒ›áƒáƒ áƒ—áƒ£áƒšáƒ˜
```

### GA4 Dashboard Setup

1. **Google Analytics 4**: https://analytics.google.com
2. **Property**: Dashni Language Learning Platform
3. **Measurement ID**: G-FWMDJ8VCF5
4. **Data Stream**: Web - https://dashni.dosh.ge

---

## áƒ¦áƒáƒœáƒ˜áƒ¡áƒ«áƒ˜áƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ¢áƒ˜áƒáƒ”áƒ‘áƒ˜

### 1. Pageviews (áƒáƒ•áƒ¢áƒáƒ›áƒáƒ¢áƒ£áƒ áƒ˜)
```javascript
{
  event: 'page_view',
  page_location: 'https://dashni.dosh.ge/sentences',
  page_title: 'Dashni - Sentences'
}
```

**áƒ’áƒáƒ¨áƒ•áƒ”áƒ‘áƒ**: áƒ§áƒáƒ•áƒ”áƒšáƒ˜ áƒ áƒáƒ£áƒ¢áƒ˜áƒ¡ áƒ¨áƒ”áƒªáƒ•áƒšáƒ˜áƒ¡áƒáƒ¡ `usePageTracking` hook-áƒ˜áƒ—

### 2. Login (áƒáƒ•áƒ¢áƒáƒ áƒ˜áƒ–áƒáƒªáƒ˜áƒ)
```javascript
trackLogin('email');

// áƒ’áƒáƒ’áƒ–áƒáƒ•áƒœáƒ˜áƒšáƒ˜ áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ˜:
{
  event: 'login',
  method: 'email'
}
```

**áƒáƒ“áƒ’áƒ˜áƒšáƒ˜**: `Login.jsx` - áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒáƒ•áƒ¢áƒáƒ áƒ˜áƒ–áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’

### 3. Sign Up (áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ)
```javascript
trackSignUp('email');

// áƒ’áƒáƒ’áƒ–áƒáƒ•áƒœáƒ˜áƒšáƒ˜ áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ˜:
{
  event: 'sign_up',
  method: 'email'
}
```

**áƒáƒ“áƒ’áƒ˜áƒšáƒ˜**: `Register.jsx` - áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’

### 4. Game Start (áƒ—áƒáƒ›áƒáƒ¨áƒ˜áƒ¡ áƒ“áƒáƒ¬áƒ§áƒ”áƒ‘áƒ)
```javascript
trackGameStart('random', 'geo-to-dash');

// áƒ’áƒáƒ’áƒ–áƒáƒ•áƒœáƒ˜áƒšáƒ˜ áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ˜:
{
  event: 'game_start',
  game_mode: 'random',      // 'random' | 'selected'
  direction: 'geo-to-dash'  // 'geo-to-dash' | 'dash-to-geo'
}
```

**áƒáƒ“áƒ’áƒ˜áƒšáƒ˜**: `MessyDictionary.jsx` - áƒ™áƒáƒ›áƒáƒáƒœáƒ”áƒœáƒ¢áƒ˜áƒ¡ mount-áƒ–áƒ”

### 5. Game Complete (áƒ—áƒáƒ›áƒáƒ¨áƒ˜áƒ¡ áƒ“áƒáƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ)
```javascript
trackGameComplete(points, tries, 'random');

// áƒ’áƒáƒ’áƒ–áƒáƒ•áƒœáƒ˜áƒšáƒ˜ áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ˜:
{
  event: 'game_complete',
  score: 10,           // áƒ¥áƒ£áƒšáƒ”áƒ‘áƒ˜
  attempts: 15,        // áƒ›áƒªáƒ“áƒ”áƒšáƒáƒ‘áƒ”áƒ‘áƒ˜
  game_mode: 'random'
}
```

**áƒáƒ“áƒ’áƒ˜áƒšáƒ˜**: `MessyDictionary.jsx` - áƒ áƒáƒªáƒ `gameFinished === true`

### 6. Audio Play (áƒáƒ£áƒ“áƒ˜áƒ áƒ“áƒáƒ™áƒ•áƒ áƒ)
```javascript
trackAudioPlay('/audio/example.mp3');

// áƒ’áƒáƒ’áƒ–áƒáƒ•áƒœáƒ˜áƒšáƒ˜ áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ˜:
{
  event: 'audio_play',
  audio_id: '/audio/example.mp3'
}
```

**áƒáƒ“áƒ’áƒ˜áƒšáƒ˜**: `AudioPlayer.jsx` - `togglePlay()` áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒáƒ¨áƒ˜

### 7. Audio Skip (áƒáƒ£áƒ“áƒ˜áƒ áƒ’áƒáƒ“áƒáƒ®áƒ•áƒ”áƒ•áƒ)
```javascript
trackAudioSkip('forward', 5);

// áƒ’áƒáƒ’áƒ–áƒáƒ•áƒœáƒ˜áƒšáƒ˜ áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ˜:
{
  event: 'audio_skip',
  direction: 'forward',  // 'forward' | 'backward'
  seconds: 5
}
```

**áƒáƒ“áƒ’áƒ˜áƒšáƒ˜**: `AudioPlayer.jsx` - `skipForward()` áƒ“áƒ `skipBackward()` áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ”áƒ‘áƒ¨áƒ˜

---

## áƒ¢áƒ”áƒ¡áƒ¢áƒ˜áƒ áƒ”áƒ‘áƒ

### 1. Cookie Banner-áƒ˜áƒ¡ áƒ¢áƒ”áƒ¡áƒ¢áƒ˜

```javascript
// Browser Console-áƒ¨áƒ˜:
localStorage.clear();
location.reload();
```

**áƒ›áƒáƒ¡áƒáƒšáƒáƒ“áƒœáƒ”áƒšáƒ˜**: Cookie-áƒ”áƒ‘áƒ˜áƒ¡ áƒ—áƒáƒœáƒ®áƒ›áƒáƒ‘áƒ˜áƒ¡ áƒ‘áƒáƒœáƒ”áƒ áƒ˜ áƒ£áƒœáƒ“áƒ áƒ’áƒáƒ›áƒáƒ©áƒœáƒ“áƒ”áƒ¡

### 2. Consent Flow-áƒ˜áƒ¡ áƒ¢áƒ”áƒ¡áƒ¢áƒ˜

1. áƒ’áƒáƒ®áƒ¡áƒ”áƒœáƒ˜ Console â†’ Network tab
2. Filter: `google-analytics.com`
3. áƒ“áƒáƒáƒ­áƒ˜áƒ áƒ” "áƒ—áƒáƒœáƒáƒ®áƒ›áƒ áƒ•áƒáƒ "
4. **áƒ›áƒáƒ¡áƒáƒšáƒáƒ“áƒœáƒ”áƒšáƒ˜ Console**:
   ```
   [GA Debug] Consent granted at: 2026-02-14T...
   [GA Debug] Reinitializing GA in Full Mode...
   [GA Debug] GA initialized in Full Mode (with cookies)
   ```
5. **áƒ›áƒáƒ¡áƒáƒšáƒáƒ“áƒœáƒ”áƒšáƒ˜ Network**:
   - áƒ›áƒáƒ—áƒ®áƒáƒ•áƒœáƒ”áƒ‘áƒ˜: `google-analytics.com/g/collect`
   - Status: `204 No Content`

### 3. Event Tracking-áƒ˜áƒ¡ áƒ¢áƒ”áƒ¡áƒ¢áƒ˜

**Login Event**:
```javascript
// Login.jsx-áƒ¨áƒ˜ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ login-áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’
console.log('[Test] Triggering trackLogin');
trackLogin('email');
```

**Console Output**:
```
[GA Debug] Tracking event: login
[GA Debug] Event params: {method: 'email'}
```

**Network Tab**: `collect?v=2&...&en=login&ep.method=email`

### 4. Google Analytics Realtime Report

1. áƒ’áƒáƒ“áƒáƒ“áƒ˜: https://analytics.google.com
2. Reports â†’ Realtime
3. áƒ¨áƒ”áƒáƒ¡áƒ áƒ£áƒšáƒ” áƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ Dashni-áƒ–áƒ” (login, game, audio)
4. **áƒ›áƒáƒ¡áƒáƒšáƒáƒ“áƒœáƒ”áƒšáƒ˜**: 1-2 áƒ¬áƒ£áƒ—áƒ¨áƒ˜ áƒ£áƒœáƒ“áƒ áƒ’áƒáƒ›áƒáƒ©áƒœáƒ“áƒ”áƒ¡ Realtime Report-áƒ¨áƒ˜

### 5. Debug Mode-áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ

**.env áƒ¤áƒáƒ˜áƒšáƒ¨áƒ˜**:
```bash
VITE_GA_DEBUG=true
```

**Console Output** (áƒ›áƒáƒ’áƒáƒšáƒ˜áƒ—áƒ”áƒ‘áƒ˜):
```
[GA Debug] GA Config - Enabled: true, ID: G-FWMDJ8VCF5, Debug: true
[GA Debug] GA initialized in Basic Mode (cookieless)
[GA Debug] Attempting to track pageview (attempt 1/50)
[GA Debug] Pageview tracked: / - Dashni
[GA Debug] Tracking event: game_start
[GA Debug] Event params: {game_mode: 'random', direction: 'geo-to-dash'}
```

### 6. Navbar Analytics Modal-áƒ˜áƒ¡ áƒ¢áƒ”áƒ¡áƒ¢áƒ˜

1. áƒ“áƒáƒáƒ­áƒ˜áƒ áƒ” **ğŸ“Š** áƒ¦áƒ˜áƒšáƒáƒ™áƒ¡ Navbar-áƒ¨áƒ˜
2. áƒ¨áƒ”áƒáƒ›áƒáƒ¬áƒ›áƒ” áƒ¡áƒ¢áƒáƒ¢áƒ£áƒ¡áƒ˜: "áƒ©áƒáƒ áƒ—áƒ£áƒšáƒ˜" áƒáƒœ "áƒ’áƒáƒ›áƒáƒ áƒ—áƒ£áƒšáƒ˜"
3. **áƒ—áƒ£ áƒ’áƒáƒ›áƒáƒ áƒ—áƒ£áƒšáƒ˜**: áƒ“áƒáƒáƒ­áƒ˜áƒ áƒ” "áƒ©áƒáƒ áƒ—áƒ•áƒ" â†’ Console-áƒ¨áƒ˜ áƒ£áƒœáƒ“áƒ áƒ“áƒáƒ˜áƒ‘áƒ”áƒ­áƒ“áƒáƒ¡ `[GA Debug] Consent granted`
4. **áƒ—áƒ£ áƒ©áƒáƒ áƒ—áƒ£áƒšáƒ˜**: áƒ“áƒáƒáƒ­áƒ˜áƒ áƒ” "áƒ’áƒáƒ›áƒáƒ áƒ—áƒ•áƒ" â†’ Console-áƒ¨áƒ˜ áƒ£áƒœáƒ“áƒ áƒ“áƒáƒ˜áƒ‘áƒ”áƒ­áƒ“áƒáƒ¡ `[GA Debug] Consent revoked`
5. áƒ’áƒáƒ“áƒáƒ¢áƒ•áƒ˜áƒ áƒ—áƒ” áƒ’áƒ•áƒ”áƒ áƒ“áƒ˜ áƒ“áƒ áƒ¨áƒ”áƒáƒ›áƒáƒ¬áƒ›áƒ” áƒ¡áƒ¢áƒáƒ¢áƒ£áƒ¡áƒ˜ áƒ¨áƒ”áƒœáƒáƒ®áƒ£áƒšáƒ˜áƒ áƒ—áƒ£ áƒáƒ áƒ

---

## áƒ£áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒáƒ”áƒ‘áƒ

### Measurement ID (G-FWMDJ8VCF5)

- âœ… **áƒáƒ  áƒáƒ áƒ˜áƒ¡ áƒ¡áƒáƒ˜áƒ“áƒ£áƒ›áƒšáƒ**: Measurement ID áƒ¡áƒáƒ¯áƒáƒ áƒáƒ áƒ“áƒ áƒ©áƒáƒœáƒ¡ Network tab-áƒ¨áƒ˜
- âœ… **áƒ£áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒáƒ Console-áƒ¨áƒ˜**: Debug logs-áƒ¨áƒ˜ Measurement ID-áƒ˜áƒ¡ áƒ©áƒ•áƒ”áƒœáƒ”áƒ‘áƒ áƒáƒ  áƒáƒ áƒ˜áƒ¡ áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒ”
- âŒ **áƒáƒ  áƒáƒ áƒ˜áƒ¡ API Key**: áƒ’áƒáƒœáƒ¡áƒ®áƒ•áƒáƒ•áƒ“áƒ”áƒ‘áƒ Google API keys-áƒ˜áƒ¡áƒ’áƒáƒœ, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒª áƒ¡áƒáƒ˜áƒ“áƒ£áƒ›áƒšáƒ áƒ£áƒœáƒ“áƒ áƒ˜áƒ§áƒáƒ¡

### Production Best Practices

```bash
# .env (production)
VITE_GA_DEBUG=false  # áƒ’áƒáƒ›áƒáƒ áƒ—áƒ” debug logs áƒ¬áƒáƒ áƒ›áƒáƒ“áƒáƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ (áƒáƒ áƒ áƒ£áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒáƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡)
VITE_GA_ENABLED=true # áƒ©áƒáƒ áƒ—áƒ£áƒšáƒ˜
```

---

## Performance

### Script Loading

- âœ… **Async Loading**: gtag.js áƒ©áƒáƒ˜áƒ¢áƒ•áƒ˜áƒ áƒ—áƒ”áƒ‘áƒ áƒáƒ¡áƒ˜áƒœáƒ¥áƒ áƒáƒœáƒ£áƒšáƒáƒ“ (`async` attribute)
- âœ… **Non-blocking**: áƒáƒ  áƒáƒ¤áƒ”áƒ áƒ®áƒ”áƒ‘áƒ¡ áƒ’áƒ•áƒ”áƒ áƒ“áƒ˜áƒ¡ áƒ áƒ”áƒœáƒ“áƒ”áƒ áƒ˜áƒœáƒ’áƒ¡
- âœ… **Lazy Initialization**: GA áƒ˜áƒœáƒ˜áƒªáƒ˜áƒáƒšáƒ˜áƒ–áƒ“áƒ”áƒ‘áƒ áƒ›áƒ®áƒáƒšáƒáƒ“ App-áƒ˜áƒ¡ mount-áƒ–áƒ”

### Retry Logic

```javascript
// trackPageView-áƒ¨áƒ˜
const maxAttempts = 50;
const retryDelay = 100; // ms

for (let i = 0; i < maxAttempts; i++) {
  if (window.gtag) {
    gtag('event', 'page_view', {...});
    return;
  }
  await new Promise(resolve => setTimeout(resolve, retryDelay));
}
```

**áƒ¡áƒ£áƒš áƒ›áƒáƒ¥áƒ¡áƒ˜áƒ›áƒáƒšáƒ£áƒ áƒ˜**: 50 Ã— 100ms = 5 áƒ¬áƒáƒ›áƒ˜

---

## FAQ

### áƒ áƒáƒ¢áƒáƒ› áƒáƒ áƒ˜ áƒ áƒ”áƒŸáƒ˜áƒ›áƒ˜ (Basic áƒ“áƒ Full)?

GDPR áƒ›áƒáƒ˜áƒ—áƒ®áƒáƒ•áƒ¡ áƒ—áƒáƒœáƒ®áƒ›áƒáƒ‘áƒáƒ¡ Cookie-áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒáƒ›áƒ“áƒ”. Basic Mode áƒ¡áƒáƒ¨áƒ£áƒáƒšáƒ”áƒ‘áƒáƒ¡ áƒ’áƒ•áƒáƒ«áƒšáƒ”áƒ•áƒ¡:
- áƒ“áƒáƒ•áƒ˜áƒœáƒáƒ®áƒáƒ— áƒ áƒ áƒ’áƒ•áƒ”áƒ áƒ“áƒ”áƒ‘áƒ–áƒ” áƒ“áƒáƒ“áƒ˜áƒáƒœ áƒ•áƒ˜áƒ–áƒ˜áƒ¢áƒáƒ áƒ”áƒ‘áƒ˜
- áƒáƒ  áƒ“áƒáƒ•áƒáƒ áƒ¦áƒ•áƒ˜áƒáƒ— GDPR
- áƒ›áƒ˜áƒ•áƒáƒ¬áƒáƒ“áƒáƒ— áƒ£áƒ™áƒ”áƒ—áƒ”áƒ¡áƒ˜ UX (instant tracking)

### áƒ áƒáƒ¢áƒáƒ› áƒáƒ  áƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ¡ react-cookie-consent library-áƒ¡?

áƒ—áƒáƒ•áƒ“áƒáƒáƒ˜áƒ áƒ•áƒ”áƒšáƒáƒ“ áƒ•áƒªáƒáƒ“áƒ”áƒ—, áƒ›áƒáƒ’áƒ áƒáƒ›:
- React Strict Mode-áƒ˜áƒ¡ áƒáƒ áƒáƒ‘áƒšáƒ”áƒ›áƒ
- DOM-áƒ¨áƒ˜ áƒáƒ  áƒ áƒ”áƒœáƒ“áƒ”áƒ áƒ“áƒ”áƒ‘áƒáƒ“áƒ
- Custom implementation áƒ›áƒ”áƒ¢ áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ¡ áƒ˜áƒ«áƒšáƒ”áƒ•áƒ

### áƒ áƒáƒ’áƒáƒ  áƒ’áƒáƒ“áƒáƒ•áƒáƒ›áƒáƒ¬áƒ›áƒ áƒ áƒáƒ› áƒ›áƒ£áƒ¨áƒáƒáƒ‘áƒ¡?

1. `localStorage.clear()` â†’ reload â†’ Cookie banner áƒ©áƒœáƒ“áƒ”áƒ‘áƒ?
2. "áƒ—áƒáƒœáƒáƒ®áƒ›áƒ áƒ•áƒáƒ " â†’ Console logs áƒ’áƒáƒ›áƒáƒ©áƒœáƒ“áƒ?
3. Network tab â†’ `google-analytics.com/g/collect` áƒ›áƒáƒ—áƒ®áƒáƒ•áƒœáƒ”áƒ‘áƒ˜?
4. Google Analytics â†’ Realtime â†’ áƒ¢áƒ áƒáƒ¤áƒ˜áƒ™áƒ˜ áƒ©áƒáƒœáƒ¡?

### áƒ¨áƒ”áƒ›áƒ˜áƒ«áƒšáƒ˜áƒ Analytics-áƒ˜áƒ¡ áƒ’áƒáƒ—áƒ˜áƒ¨áƒ•áƒ?

áƒ“áƒ˜áƒáƒ®, áƒ¡áƒáƒ›áƒ˜ áƒ’áƒ–áƒ˜áƒ—:
1. **User**: Navbar-áƒ¨áƒ˜ ğŸ“Š â†’ "áƒ’áƒáƒ›áƒáƒ áƒ—áƒ•áƒ"
2. **Developer**: `.env` â†’ `VITE_GA_ENABLED=false`
3. **Browser**: AdBlocker/Privacy Extensions

---

## áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ˜áƒ—áƒ˜ áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ”áƒ‘áƒ˜

- [GA4 Documentation](https://developers.google.com/analytics/devguides/collection/ga4)
- [Consent Mode](https://support.google.com/analytics/answer/9976101)
- [GDPR Compliance](https://support.google.com/analytics/answer/9019185)
- [gtag.js Reference](https://developers.google.com/tag-platform/gtagjs/reference)

---

## áƒáƒ•áƒ¢áƒáƒ áƒ˜

áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜áƒ: 2026-02-14  
áƒáƒ áƒáƒ”áƒ¥áƒ¢áƒ˜: Dashni Language Learning Platform  
Measurement ID: G-FWMDJ8VCF5
